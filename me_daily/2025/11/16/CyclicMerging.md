# Cyclic Merging

- 将环视为含有 `n` 条边的简单环图，每条边 `(i,i+1)` 的权重定义为 `w_i = max(a_i, a_{i+1})`（其中 `a_{n+1} = a_1`）。
- 每次合并相当于沿某条边合并两个相邻连通块，代价为这条边连接的两块的最大值，即视为支付 `w_i`。
- 需要进行 `n-1` 次合并以形成一块，等价于在环图上选择 `n-1` 条边使图连通且无环，即求最小生成树。
- 对环图，最小生成树即“去掉一条最大权边”，因此答案为：`sum(w_i) - max(w_i)`，线性计算。

示例：
- `a = [1, 1, 3, 2]`，`w = [1, 3, 3, 2]`，`sum(w)-max(w) = 9-3 = 6`。
- `a = [0, 2]`，`w = [2, 2]`，`sum(w)-max(w) = 4-2 = 2`。
- `a = [1,1,4,5,1,4,1]`，`w = [1,4,5,5,4,4,1]`，`sum(w)-max(w) = 24-5 = 19`。