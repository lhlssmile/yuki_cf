# Symmetrical Polygons

题目理解（CF 2153C）：
- 给定多组测试，每组给出 `n` 和数组 `a`，每个元素 `a[i]` 表示一条边长。
- 你可以将相同长度的边“两两成对”以构造一个“对称多边形”（边关于中心轴成对对称）。
- 目标是最大化该多边形的周长，并保证能组成合法多边形（最大边 < 其余边之和）。

关键构造与判断：
- 设 `cnt[x]` 为长度为 `x` 的边的出现次数。
- 每种长度我们最多能取 `floor(cnt[x] / 2) * 2` 条边（按对称成对），它们对周长贡献为 `2 * x * floor(cnt[x] / 2)`。
- 为了便于判断，把“成对贡献的一半”记作 `base = Σ x * floor(cnt[x]/2)`，则纯成对的周长是 `2 * base`。
- 若存在剩余未配对的单边（`cnt[x]` 为奇数），可以考虑再额外加入 1 或 2 条单边，但要满足多边形不等式：最大边 < 其他边之和。

策略与公式：
- 令 `odd` 为所有 `cnt[x]` 为奇数的长度集合（升序），`even` 为所有 `cnt[x] ≥ 2` 的长度集合。
- 三种候选：
  1) 只用成对边：若存在某个 `x ∈ even` 使得 `base - x > 0`，则可取周长 `2 * base`。
  2) 用成对边 + 一个单边 `x ∈ odd`：需 `2 * base > x`，周长 `2 * base + x`。
  3) 用成对边 + 两个单边 `x < y ∈ odd`（odd 已排序）：需 `2 * base + x > y`，周长 `2 * base + x + y`。
- 取以上可行候选的最大值作为答案。如果 `base == 0`，无法构造（成对边为 0），答案为 0。

与代码实现对应：
- 计算 `base = Σ x * (cnt[x] / 2)`。
- 收集 `odd`（`cnt[x]` 为奇数）和 `even`（`cnt[x] ≥ 2`）。
- 检查三类候选，上述不等式对应的判断在代码中分别是：
  - `base - x > 0` → 只成对边可行，`ans = max(ans, 2*base)`。
  - `2*base > x` → 再加一个单边，`ans = max(ans, 2*base + x)`。
  - `odd[i-1] + 2*base > odd[i]` → 再加两个单边，`ans = max(ans, odd[i-1] + 2*base + odd[i])`。


- 统计与判断均为 `O(n log n)` 或 `O(n)`

